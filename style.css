/* 全局样式 */
:root {
    --settings-width: 350px;
    --base-circle-size: 25vw;
}

body, html {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background-color: #000000;
    color: #ffffff;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    overflow: hidden;
    /* 新增点: 为背景色变化添加平滑过渡效果 */
    transition: background-color 0.5s ease-in-out; 
}

/* 可视化区域 */
#visualizer-container {
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center;
}

#circle, #lyrics {
    grid-column: 1;
    grid-row: 1;
}

#circle {
    width: var(--base-circle-size);
    height: var(--base-circle-size);
    min-width: 150px;
    min-height: 150px;
    background-color: #3498db;
    border-radius: 50%;
    box-sizing: border-box;
    transition: transform 0.2s ease-out, background-color 0.3s ease-in-out;
    transform: scale(1);
    z-index: 1;
}

#lyrics {
    font-size: clamp(1rem, 3.5vw, 3rem);
    white-space: nowrap;
    text-align: center;
    color: #FFFFFF;
    max-width: 95%;
    font-weight: bold;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
    transition: transform 0.2s ease-out;
    transform: scale(1);
    padding: 20px;
    box-sizing: border-box;
    z-index: 2;
}

/* 设置面板 (无改动) */
#settings-panel{position:fixed;top:0;left:0;height:100%;width:var(--settings-width);background-color:rgba(30,30,30,.95);backdrop-filter:blur(5px);box-shadow:2px 0 15px rgba(0,0,0,.5);transform:translateX(0);transition:transform .4s cubic-bezier(.25,.46,.45,.94);z-index:100;display:flex}#settings-panel.hidden{transform:translateX(calc(-1 * var(--settings-width)))}#settings-panel.hidden #toggle-settings-btn{transform:translateY(-50%) scaleX(-1)}#toggle-settings-btn:hover{background-color:#3498db}#audio-player{display:none}.settings-content{padding:25px;display:flex;flex-direction:column;gap:15px;width:100%;box-sizing:border-box}.settings-content h2{margin-top:0;color:#3498db}.settings-content label{font-size:.9rem;color:#ccc}.settings-content input[type=file],.settings-content input[type=text],.settings-content button{width:100%;padding:10px;border-radius:5px;border:1px solid #444;background-color:#222;color:#eee;box-sizing:border-box}.settings-content input[type=text]{font-family:monospace}.settings-content small{font-size:.8rem;color:#888;margin-top:-10px}#start-btn{background-color:#3498db;color:#fff;font-weight:700;cursor:pointer;border:none;transition:background-color .2s}#start-btn:hover{background-color:#2980b9}#toggle-settings-btn{position:absolute;right:-30px;top:50%;transform:translateY(-50%);width:30px;height:60px;background-color:rgba(30,30,30,.95);border:none;color:#fff;cursor:pointer;border-radius:0 5px 5px 0;font-size:1.2rem;line-height:60px;padding:0;text-align:center;transition:background-color .2s}